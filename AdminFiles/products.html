<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxora Admin | Products Management</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="dashboard.css">

    <style>
        /* --- Page Specific Styling --- */

        /* Secondary Navbar Styling */
        .sub-header {
            background: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #e2e8f0;
        }

        .sub-header h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin: 0;
        }

        /* Add Button */
        .btn-add-new {
            background-color: #4f46e5;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-add-new:hover {
            background-color: #4338ca;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }

        /* Product Image in Table */
        .table-img {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            object-fit: cover;
            border: 1px solid #eee;
        }

        /* Action Buttons */
        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
            margin-left: 5px;
        }

        .btn-edit {
            background: #eef2ff;
            color: #4f46e5;
        }

        .btn-edit:hover {
            background: #4f46e5;
            color: white;
        }

        .btn-delete {
            background: #fef2f2;
            color: #ef4444;
        }

        .btn-delete:hover {
            background: #ef4444;
            color: white;
        }

        /* Modal Customization */
        .modal-header {
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .form-label {
            font-weight: 600;
            font-size: 0.9rem;
            color: #475569;
        }

        .form-control,
        .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #cbd5e1;
        }

        .form-control-color {
            width: 100%;
            max-width: 100%;
            height: 45px;
            padding: 0.3rem;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            cursor: pointer;
        }

        .form-control-color::-webkit-color-swatch {
            border-radius: 6px;
            border: none;
        }

        .remove-color-btn {
            height: 45px;
            width: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }

        .form-control:focus {
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        /* Image Upload Preview Box */
        .img-preview-box {
            width: 100%;
            height: 150px;
            border: 2px dashed #cbd5e1;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            background: #f8fafc;
            cursor: pointer;
            margin-top: 5px;
            transition: 0.2s;
        }

        .img-preview-box:hover {
            border-color: #4f46e5;
            background: #eef2ff;
            color: #4f46e5;
        }
    </style>
</head>

<body class="bg-light">

    <div id="sidebar"></div>

    <main class="col-lg-10 ms-sm-auto p-4 main-content-wrapper">

        <div style="margin-top: 80px;"></div>

        <div class="sub-header">
            <div>
                <h2>Product Inventory</h2>
                <p class="text-muted small mb-0">Manage your store catalog (Add, Edit, Delete)</p>
            </div>
            <button class="btn-add-new" data-bs-toggle="modal" data-bs-target="#productModal">
                <i class="fa-solid fa-plus"></i> Add Product
            </button>
        </div>

        <div class="card border-0 shadow-sm rounded-4">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light">
                            <tr>
                                <th class="ps-4 py-3">Product Info</th>
                                <th class="py-3">Category</th>
                                <th class="py-3">Price</th>
                                <th class="py-3">Colors</th>
                                <th class="py-3">Stock</th>
                                <th class="py-3 text-end pe-4">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">

                            <tr>
                                <td class="ps-4">
                                    <div class="d-flex align-items-center gap-3">
                                        <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=100"
                                            class="table-img" alt="Shoe">
                                        <div>
                                            <h6 class="mb-0 fw-bold">Nike Air Max</h6>
                                            <small class="text-muted">ID: #PROD-001</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge bg-light text-dark border">Footwear</span></td>
                                <td class="fw-bold text-primary">$120.00</td>
                                <td>
                                    <div class="d-flex gap-1">
                                        <span
                                            style="width:15px; height:15px; background:red; border-radius:50%; display:inline-block;"></span>
                                        <span
                                            style="width:15px; height:15px; background:black; border-radius:50%; display:inline-block;"></span>
                                    </div>
                                </td>
                                <td><span class="badge bg-success-subtle text-success">In Stock (45)</span></td>
                                <td class="text-end pe-4">
                                    <button class="action-btn btn-edit" data-bs-toggle="modal"
                                        data-bs-target="#productModal">
                                        <i class="fa-solid fa-pen"></i>
                                    </button>
                                    <button class="action-btn btn-delete">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </td>
                            </tr>

                            <tr>
                                <td class="ps-4">
                                    <div class="d-flex align-items-center gap-3">
                                        <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=100"
                                            class="table-img" alt="Headphone">
                                        <div>
                                            <h6 class="mb-0 fw-bold">Sony Headphones</h6>
                                            <small class="text-muted">ID: #PROD-002</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge bg-light text-dark border">Electronics</span></td>
                                <td class="fw-bold text-primary">$350.00</td>
                                <td>
                                    <div class="d-flex gap-1">
                                        <span
                                            style="width:15px; height:15px; background:black; border-radius:50%; display:inline-block;"></span>
                                        <span
                                            style="width:15px; height:15px; background:silver; border-radius:50%; display:inline-block;"></span>
                                    </div>
                                </td>
                                <td><span class="badge bg-danger-subtle text-danger">Out of Stock</span></td>
                                <td class="text-end pe-4">
                                    <button class="action-btn btn-edit" data-bs-toggle="modal"
                                        data-bs-target="#productModal"><i class="fa-solid fa-pen"></i></button>
                                    <button class="action-btn btn-delete"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>


    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content border-0 shadow">

                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="productModalLabel">Product Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body p-4">
                    <form id="productForm">
                        <div class="row g-3">

                            <div class="col-md-4">
                                <label class="form-label">Product Image</label>
                                <label for="prodImgInput" class="img-preview-box">
                                    <div class="text-center">
                                        <i class="fa-solid fa-cloud-arrow-up fs-2 mb-2"></i>
                                        <div class="small">Click to Upload</div>
                                    </div>
                                    <input type="file" id="prodImgInput" hidden accept="image/*">
                                </label>
                            </div>

                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label class="form-label">Product Title</label>
                                    <input type="text" id="inp-title" class="form-control"
                                        placeholder="e.g. Nike Air Max">
                                </div>
                                <div class="row">
                                    <div class="col-6 mb-3">
                                        <label class="form-label">Category</label>
                                        <select id="inp-cat" class="form-select">
                                            <option value="">Select Category</option>
                                            <option value="Electronics">Electronics</option>
                                            <option value="Fashion">Fashion</option>
                                            <option value="Home & Living">Home & Living</option>
                                        </select>
                                    </div>
                                    <div class="col-6 mb-3">
                                        <label class="form-label">Price ($)</label>
                                        <input type="number" id="inp-price" class="form-control" placeholder="0.00">
                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <label class="form-label">Description</label>
                                <textarea id="inp-desc" class="form-control" rows="3"
                                    placeholder="Enter product details..."></textarea>
                            </div>

                            <div class="col-12">
                                <label class="form-label">Available Colors</label>
                                <div id="color-container">
                                    <div class="d-flex gap-2 mb-2 align-items-center color-row">
                                        <input type="color" class="form-control form-control-color w-100"
                                            value="#4f46e5">
                                        <button type="button" class="btn btn-outline-danger remove-color-btn"><i
                                                class="fa-solid fa-trash"></i></button>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm mt-1" id="addColorBtn">
                                    <i class="fa-solid fa-plus"></i> Add Another Color
                                </button>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label">Stock Quantity</label>
                                <input type="number" id="inp-stock" class="form-control" placeholder="Available units">
                            </div>

                        </div>
                    </form>
                </div>

                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-light text-muted" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" id="saveProductBtn" class="btn btn-primary px-4">Save Product</button>
                </div>

            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script type="module" src="../config.js"></script>
    <script type="module" src="dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>